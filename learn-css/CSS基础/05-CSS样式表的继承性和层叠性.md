# 本文重点

- CSS的继承性
- CSS的层叠性
  - 计算权重
  - 权重问题大总结
  - CSS样式表的冲突的总结
  - 权重问题深入
  - 同一个标签，携带了多个类名
  - !important标记

## CSS的继承性

> 有一些属性，当给自己设置的时候，自己的后代都继承上了，这个就是**继承性。**

继承性是从自己开始，直到最小的元素。

- 关于文字样式的属性，都具有继承性。这些属性包括：color、 text-开头的、line-开头的、font-开头的。

- 关于盒子、定位、布局的属性，都不能继承。

以后当我们谈到css有哪些特性的时候，我们要首先想到继承性。而且，要知道哪些属性具有继承性、哪些属性没有继承性。

## CSS的层叠性

### 层叠性：计算权重

层叠性。层叠性是一种能力，就是处理冲突的能力。当不同选择器，对一个标签的同一个样式，有不同的值，听谁的？这就是冲突。css有着严格的处理冲突的机制。

- 选择上了，数权重，(id的数量，类的数量，标签的数量)。如果权重一样，谁写在后面听谁的。
- 没有选择上，通过继承影响的，就近原则，谁描述的近听谁的。如果描述的一样近，比如选择器权重，如果权重再一样重，谁写在后面听谁的。

### CSS样式表的冲突的总结

- 1、对于相同的选择器（比如同样都是类选择器），其样式表排序：行级样式 > 内嵌样式表 > 外部样式表（就近原则）
- 2、对于相同类型的样式表（比如同样都是内部样式表），其选择器排序：ID选择器 > 类选择器 > 标签选择器
- 3、外部样式表的ID选择器  > 内嵌样式表的标签选择器

> 总结：就近原则。ID选择器优先级最大。

举例：如果都是内嵌样式表，优先级的顺序如下：（ID 选择器 > 类选择器 > 标签选择器）

另外还有两个冲突的情况：

- 1、对同一个标签，如果用到的都是内嵌样式表，且权重一致，那它的优先级：**定义**的CSS样式表中，谁最近，就用谁。
- 2、对于同一个标签，如果用到的都是外部样式表，且权重一致，那它的优先级：html文件中，引用样式表的位置越近，就用谁。

## 权重问题深入

### 同一个标签，携带了多个类名，有冲突

这里需要补充两种冲突的情况：

- 1、对同一个标签，如果用到了了多个相同的内嵌样式表，它的优先级：**定义**的样式表中，谁最近，就用谁。
- 2、对于同一个标签，如果引用了多个相同的外部样式表，它的优先级：html文件中，引用样式表的位置越近，就用谁。

### !important标记：优先级最高

来看个很简单的例子：

important是英语里面的“重要的”的意思。我们可以通过如下语法：

```css
k:v !important;
```

来给一个属性提高权重。这个属性的权重就是**无穷大**。

注意，一定要注意语法的正确性。

正确的语法：

```css
font-size:60px !important;
```

`!important`标记需要强调如下3点：

- （1）!important提升的是一个属性，而不是一个选择器

```css
    p{
      color:red !important;    只写了这一个!important，所以只有字体颜色属性提升了权重
      font-size: 100px ;       这条属性没有写!important，所以没有提升权重
    }
    #para1{
      color:blue;
      font-size: 50px;
    }
    .spec{
      color:green;
      font-size: 20px;
    }
```

所以，综合来看，字体颜色是red（听important的）；字号是50px（听id的）。

- （2）!important无法提升继承的权重，该是0还是0

比如HTML结构：

```html
  <div>
    <p>哈哈哈哈哈哈哈哈</p>
  </div>
```

有CSS样式：

```css
  div{
    color:red !important;
  }
  p{
    color:blue;
  }
```

由于div是通过继承性来影响文字颜色的，所以!important无法提升它的权重，权重依然是0。

干不过p标签，因为p标签是实实在在选中了，所以字是蓝色的（以p为准）。

- (3)!important不影响就近原则

如果大家都是继承来的，按理说应该按照“就近原则”，那么important能否影响就近原则呢？
答案是：不影响。远的，永远是远的。不能给远的写一个important，干掉近的。

PS：做网站的时候，!important 尽量不要用。否则会让css写的很乱
